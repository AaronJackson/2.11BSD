.TH NFABORT 3 "University of Illinois"
.SH NAME
nfabort \- dump core and log it in a notesfile
.SH SYNOPSIS
.B "nfabort"
(
.BR "notesfile" ","
.BR "message" ","
.BR "title" ","
.BR "cname" ","
.B "exitcode"
)
.br
.B "char"
.BR "*notesfile" ","
.BR "*message" ","
.BR "*title" ","
.BR "*cname" ","
.B "exitcode"
.PP
.B cc ... \-lnfcom
.SH DESCRIPTION
.I "Nfabort"
provides user programs with a convenient way to
generate a core image,
move it to a save place,
and
log the action in a notesfile.
.PP
The
.I "notesfile"
parameter specifies the notesfile to receive a copy
of the string
.I "message"
with a line appended detailing the final resting
place of the core image.
The text is inserted into the notesfile as
a base note with
.I title
taken from the parameter list.
.I "Cname"
is the prefix of the pathname of where to place the core image.
This is suffixed with ``.integer'' to yield the full pathname.
The integer is generated from the pid of the current process.
.PP
After generating and saving the core image
and
placing the message in the notesfile,
.I nfabort
terminates the current process with the exit code
specified by the
.I "exitcode"
parameter.
.PP
.I Nfabort
calls
.I nfcomment
to insert the message into the notesfile.
.SH BUGS
Certain conditions, such as running out of memory,
will cause 
.I nfabort
to fail.
.PP
.I Nfabort
will fail to log the message if it can't fork a child
process.
.PP
The final resting place of the core image will not be logged
if
.I "nfabort"
can't allocate memory for temporary strings.
.SH FILES
.PD 0
.TP 35
/usr/lib/libnfcom.a
-lnfcom library
.PD
.SH SEE ALSO
malloc(3),
nfcomment(3),
nfpipe(1),
notes(1),
popen(3S),
system(3),
.br
.ul
The Notesfile Reference Manual
.SH AUTHORS
.nf
Ray Essick (uiucdcs!essick, essick%uiuc@csnet-relay.arpa)
Department of Computer Science
University of Illinois at Urbana-Champaign
Urbana, IL
.fi
